<html lang="en">
<head>
<title>Options Affecting Scanner Behavior - Lexical Analysis With Flex</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Lexical Analysis With Flex">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Scanner-Options.html#Scanner-Options" title="Scanner Options">
<link rel="prev" href="Options-for-Specifying-Filenames.html#Options-for-Specifying-Filenames" title="Options for Specifying Filenames">
<link rel="next" href="Code_002dLevel-And-API-Options.html#Code_002dLevel-And-API-Options" title="Code-Level And API Options">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
The flex manual is placed under the same licensing conditions as the
rest of flex:

Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007 The Flex
Project.

Copyright (C) 1990, 1997 The Regents of the University of California.
All rights reserved.

This code is derived from software contributed to Berkeley by
Vern Paxson.

The United States Government has rights in this work pursuant
to contract no. DE-AC03-76SF00098 between the United States
Department of Energy and the University of California.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
  1.  Redistributions of source code must retain the above copyright
     notice, this list of conditions and the following disclaimer.

  2. Redistributions in binary form must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the
     distribution.

Neither the name of the University nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.

THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Options-Affecting-Scanner-Behavior"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Code_002dLevel-And-API-Options.html#Code_002dLevel-And-API-Options">Code-Level And API Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Options-for-Specifying-Filenames.html#Options-for-Specifying-Filenames">Options for Specifying Filenames</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Scanner-Options.html#Scanner-Options">Scanner Options</a>
<hr>
</div>

<h3 class="section">16.2 Options Affecting Scanner Behavior</h3>

     <dl>
<a name="option_002dcase_002dinsensitive"></a><a name="index-g_t_002di-259"></a><a name="index-g_t_002d_002d_002dcase_002dinsensitive-260"></a><a name="index-case_002dinsensitive-261"></a><dt>&lsquo;<samp><span class="samp">-i, --case-insensitive, </span><code>%option case-insensitive</code></samp>&rsquo;<dd>instructs <code>flex</code> to generate a <dfn>case-insensitive</dfn> scanner.  The
case of letters given in the <code>flex</code> input patterns will be ignored,
and tokens in the input will be matched regardless of case.  The matched
text given in <code>yytext</code> will have the preserved case (i.e., it will
not be folded).  For tricky behavior, see <a href="case-and-character-ranges.html#case-and-character-ranges">case and character ranges</a>.

     <p><a name="option_002dlex_002dcompat"></a><a name="index-g_t_002dl-262"></a><a name="index-g_t_002d_002d_002dlex_002dcompat-263"></a><a name="index-lex_002dcompat-264"></a><br><dt>&lsquo;<samp><span class="samp">-l, --lex-compat, </span><code>%option lex-compat</code></samp>&rsquo;<dd>turns on maximum compatibility with the original AT&amp;T <code>lex</code>
implementation.  Note that this does not mean <em>full</em> compatibility. 
Use of this option costs a considerable amount of performance, and it
cannot be used with the &lsquo;<samp><span class="samp">--c++</span></samp>&rsquo;, &lsquo;<samp><span class="samp">--full</span></samp>&rsquo;, &lsquo;<samp><span class="samp">--fast</span></samp>&rsquo;, &lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo;, or
&lsquo;<samp><span class="samp">-CF</span></samp>&rsquo; options.  For details on the compatibilities it provides, see
<a href="Lex-and-Posix.html#Lex-and-Posix">Lex and Posix</a>.  This option also results in the name
<code>YY_FLEX_LEX_COMPAT</code> being <code>#define</code>'d in the generated scanner.

     <p><a name="option_002dbatch"></a><a name="index-g_t_002dB-265"></a><a name="index-g_t_002d_002d_002dbatch-266"></a><a name="index-batch-267"></a><br><dt>&lsquo;<samp><span class="samp">-B, --batch, </span><code>%option batch</code></samp>&rsquo;<dd>instructs <code>flex</code> to generate a <dfn>batch</dfn> scanner, the opposite of
<em>interactive</em> scanners generated by &lsquo;<samp><span class="samp">--interactive</span></samp>&rsquo; (see below).  In
general, you use &lsquo;<samp><span class="samp">-B</span></samp>&rsquo; when you are <em>certain</em> that your scanner
will never be used interactively, and you want to squeeze a
<em>little</em> more performance out of it.  If your goal is instead to
squeeze out a <em>lot</em> more performance, you should be using the
&lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CF</span></samp>&rsquo; options, which turn on &lsquo;<samp><span class="samp">--batch</span></samp>&rsquo; automatically
anyway.

     <p><a name="option_002dinteractive"></a><a name="index-g_t_002dI-268"></a><a name="index-g_t_002d_002d_002dinteractive-269"></a><a name="index-interactive-270"></a><br><dt>&lsquo;<samp><span class="samp">-I, --interactive, </span><code>%option interactive</code></samp>&rsquo;<dd>instructs <code>flex</code> to generate an <i>interactive</i> scanner.  An
interactive scanner is one that only looks ahead to decide what token
has been matched if it absolutely must.  It turns out that always
looking one extra character ahead, even if the scanner has already seen
enough text to disambiguate the current token, is a bit faster than only
looking ahead when necessary.  But scanners that always look ahead give
dreadful interactive performance; for example, when a user types a
newline, it is not recognized as a newline token until they enter
<em>another</em> token, which often means typing in another whole line.

     <p><code>flex</code> scanners default to <code>interactive</code> unless you use the
&lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CF</span></samp>&rsquo; table-compression options
(see <a href="Performance.html#Performance">Performance</a>).  That's because if you're looking for
high-performance you should be using one of these options, so if you
didn't, <code>flex</code> assumes you'd rather trade off a bit of run-time
performance for intuitive interactive behavior.  Note also that you
<em>cannot</em> use &lsquo;<samp><span class="samp">--interactive</span></samp>&rsquo; in conjunction with &lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or
&lsquo;<samp><span class="samp">-CF</span></samp>&rsquo;.  Thus, this option is not really needed; it is on by default
for all those cases in which it is allowed.

     <p>You can force a scanner to
<em>not</em>
be interactive by using
&lsquo;<samp><span class="samp">--batch</span></samp>&rsquo;

     <p><a name="option_002d7bit"></a><a name="index-g_t_002d7-271"></a><a name="index-g_t_002d_002d_002d7bit-272"></a><a name="index-g_t7bit-273"></a><br><dt>&lsquo;<samp><span class="samp">-7, --7bit, </span><code>%option 7bit</code></samp>&rsquo;<dd>instructs <code>flex</code> to generate a 7-bit scanner, i.e., one which can
only recognize 7-bit characters in its input.  The advantage of using
&lsquo;<samp><span class="samp">--7bit</span></samp>&rsquo; is that the scanner's tables can be up to half the size of
those generated using the &lsquo;<samp><span class="samp">--8bit</span></samp>&rsquo;.  The disadvantage is that such
scanners often hang or crash if their input contains an 8-bit character.

     <p>Note, however, that unless you generate your scanner using the
&lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CF</span></samp>&rsquo; table compression options, use of &lsquo;<samp><span class="samp">--7bit</span></samp>&rsquo;
will save only a small amount of table space, and make your scanner
considerably less portable.  <code>Flex</code>'s default behavior is to
generate an 8-bit scanner unless you use the &lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CF</span></samp>&rsquo;,
in which case <code>flex</code> defaults to generating 7-bit scanners unless
your site was always configured to generate 8-bit scanners (as will
often be the case with non-USA sites).  You can tell whether flex
generated a 7-bit or an 8-bit scanner by inspecting the flag summary in
the &lsquo;<samp><span class="samp">--verbose</span></samp>&rsquo; output as described above.

     <p>Note that if you use &lsquo;<samp><span class="samp">-Cfe</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CFe</span></samp>&rsquo; <code>flex</code> still
defaults to generating an 8-bit scanner, since usually with these
compression options full 8-bit tables are not much more expensive than
7-bit tables.

     <p><a name="option_002d8bit"></a><a name="index-g_t_002d8-274"></a><a name="index-g_t_002d_002d_002d8bit-275"></a><a name="index-g_t8bit-276"></a><br><dt>&lsquo;<samp><span class="samp">-8, --8bit, </span><code>%option 8bit</code></samp>&rsquo;<dd>instructs <code>flex</code> to generate an 8-bit scanner, i.e., one which can
recognize 8-bit characters.  This flag is only needed for scanners
generated using &lsquo;<samp><span class="samp">-Cf</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-CF</span></samp>&rsquo;, as otherwise flex defaults to
generating an 8-bit scanner anyway.

     <p>See the discussion of
&lsquo;<samp><span class="samp">--7bit</span></samp>&rsquo;
above for <code>flex</code>'s default behavior and the tradeoffs between 7-bit
and 8-bit scanners.

     <p><a name="option_002ddefault"></a><a name="index-g_t_002d_002d_002ddefault-277"></a><a name="index-default-278"></a><br><dt>&lsquo;<samp><span class="samp">--default, </span><code>%option default</code></samp>&rsquo;<dd>generate the default rule.

     <p><a name="option_002dalways_002dinteractive"></a><a name="index-g_t_002d_002d_002dalways_002dinteractive-279"></a><a name="index-always_002dinteractive-280"></a><br><dt>&lsquo;<samp><span class="samp">--always-interactive, </span><code>%option always-interactive</code></samp>&rsquo;<dd>instructs flex to generate a scanner which always considers its input
<em>interactive</em>.  Normally, on each new input file the scanner calls
<code>isatty()</code> in an attempt to determine whether the scanner's input
source is interactive and thus should be read a character at a time. 
When this option is used, however, then no such call is made.

     <p><a name="index-g_t_002d_002d_002dnever_002dinteractive-281"></a><br><dt>&lsquo;<samp><span class="samp">--never-interactive, </span><code>--never-interactive</code></samp>&rsquo;<dd>instructs flex to generate a scanner which never considers its input
interactive.  This is the opposite of <code>always-interactive</code>.

     <p><a name="option_002dposix"></a><a name="index-g_t_002dX-282"></a><a name="index-g_t_002d_002d_002dposix-283"></a><a name="index-posix-284"></a><br><dt>&lsquo;<samp><span class="samp">-X, --posix, </span><code>%option posix</code></samp>&rsquo;<dd>turns on maximum compatibility with the POSIX 1003.2-1992 definition of
<code>lex</code>.  Since <code>flex</code> was originally designed to implement the
POSIX definition of <code>lex</code> this generally involves very few changes
in behavior.  At the current writing the known differences between
<code>flex</code> and the POSIX standard are:

          <ul>
<li>In POSIX and AT&amp;T <code>lex</code>, the repeat operator, &lsquo;<samp><span class="samp">{}</span></samp>&rsquo;, has lower
precedence than concatenation (thus &lsquo;<samp><span class="samp">ab{3}</span></samp>&rsquo; yields &lsquo;<samp><span class="samp">ababab</span></samp>&rsquo;). 
Most POSIX utilities use an Extended Regular Expression (ERE) precedence
that has the precedence of the repeat operator higher than concatenation
(which causes &lsquo;<samp><span class="samp">ab{3}</span></samp>&rsquo; to yield &lsquo;<samp><span class="samp">abbb</span></samp>&rsquo;).  By default, <code>flex</code>
places the precedence of the repeat operator higher than concatenation
which matches the ERE processing of other POSIX utilities.  When either
&lsquo;<samp><span class="samp">--posix</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-l</span></samp>&rsquo; are specified, <code>flex</code> will use the
traditional AT&amp;T and POSIX-compliant precedence for the repeat operator
where concatenation has higher precedence than the repeat operator. 
</ul>

     <p><a name="option_002dstack"></a><a name="index-g_t_002d_002d_002dstack-285"></a><a name="index-stack-286"></a><br><dt>&lsquo;<samp><span class="samp">--stack, </span><code>%option stack</code></samp>&rsquo;<dd>enables the use of
start condition stacks (see <a href="Start-Conditions.html#Start-Conditions">Start Conditions</a>).

     <p><a name="option_002dstdinit"></a><a name="index-g_t_002d_002d_002dstdinit-287"></a><a name="index-stdinit-288"></a><br><dt>&lsquo;<samp><span class="samp">--stdinit, </span><code>%option stdinit</code></samp>&rsquo;<dd>if set (i.e., <b>%option stdinit)</b> initializes <code>yyin</code> and
<code>yyout</code> to <samp><span class="file">stdin</span></samp> and <samp><span class="file">stdout</span></samp>, instead of the default of
<samp><span class="file">NULL</span></samp>.  Some existing <code>lex</code> programs depend on this behavior,
even though it is not compliant with ANSI C, which does not require
<samp><span class="file">stdin</span></samp> and <samp><span class="file">stdout</span></samp> to be compile-time constant. In a
reentrant scanner, however, this is not a problem since initialization
is performed in <code>yylex_init</code> at runtime.

     <p><a name="option_002dyylineno"></a><a name="index-g_t_002d_002d_002dyylineno-289"></a><a name="index-yylineno-290"></a><br><dt>&lsquo;<samp><span class="samp">--yylineno, </span><code>%option yylineno</code></samp>&rsquo;<dd>directs <code>flex</code> to generate a scanner
that maintains the number of the current line read from its input in the
global variable <code>yylineno</code>.  This option is implied by <code>%option
lex-compat</code>.  In a reentrant C scanner, the macro <code>yylineno</code> is
accessible regardless of the value of <code>%option yylineno</code>, however, its
value is not modified by <code>flex</code> unless <code>%option yylineno</code> is enabled.

     <p><a name="option_002dyywrap"></a><a name="index-g_t_002d_002d_002dyywrap-291"></a><a name="index-yywrap-292"></a><br><dt>&lsquo;<samp><span class="samp">--yywrap, </span><code>%option yywrap</code></samp>&rsquo;<dd>if unset (i.e., <code>--noyywrap)</code>, makes the scanner not call
<code>yywrap()</code> upon an end-of-file, but simply assume that there are no
more files to scan (until the user points <samp><span class="file">yyin</span></samp> at a new file and
calls <code>yylex()</code> again).

</dl>

   </body></html>

